# 第二章

## 内核职责

- 进程调度
- 内存管理
- 文件系统
- 控制进程生存周期
- 设备管理
- 联机
- 提供系统调用

## Shell

主要用于读取用户输入的命令，并执行相应的程序以 响应命令。有时，人们也称之为命令解释器

# 用户和组

`/etc/passwd`存储用户信息，一行存一个，格式如下
`name:password:uid:gid:comment:home:shell`
- 解释
1. name ：用户名。
2. password：密码（x表示加密，空则不需要输入密码）
3. uid ：UID（用户标识）,操作系统自己用的
4. gid ：GID组标识。
5. comment：用户全名或本地帐号
6. home：开始目录
7. shell：登录使用的Shell，就是对登录命令进行解析的工具
- 例子
root : x : 0 : 0 : root : /root : /bin/bash

# 进程

- 进程内存布局，具体见[链接](https://github.com/Dmaner/Operating-system-learning/blob/master/pla/4-Process-mem.md)
- 创建执行进程：
  - fork
  - exec系列
- 进程id和父进程id
- 进程终止
  - exit函数
  - kill发送信号
  - 异常终止
- 进程用户和组标识
  - 真实用户id和组id
  - 有效用户id和组id
  - 补充组id
- 特权进程
- init进程
- 守护进程

# 内存映射

> 调用系统函数 mmap()的进程，会在其虚拟地址空间中创建一个新的内存映射。

映射分为两类
- 文件映射
将文件的部分区域映射入调用进程的虚拟内存。映射一旦完成，对文件映射 内容的访问则转化为对相应内存区域的字节操作。映射页面会按需自动从文件中加载
- 匿名映射
相映成趣的是并无文件与之相对应的匿名映射，其映射页面的内容会被初始化为0。

# 静态库和共享库

- 静态库
- 共享库

# 进程间通信机制

- 信号
- 管道
- 套接字
- 文件锁定
- 消息队列
- 信号量
- 共享内存

